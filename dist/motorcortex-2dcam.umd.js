!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@donkeyclip/motorcortex")):"function"==typeof define&&define.amd?define(["@donkeyclip/motorcortex"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["@donkeyclip/motorcortex-2dcam"]=e(t.MotorCortex)}(this,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function p(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y=function(t){return t&&t.Math==Math&&t},g=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof d&&d)||function(){return this}()||Function("return this")(),v={},b=function(t){try{return!!t()}catch(t){return!0}},m=!b((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),x=Function.prototype.call,w=x.bind?x.bind(x):function(){return x.apply(x,arguments)},O={},P={}.propertyIsEnumerable,j=Object.getOwnPropertyDescriptor,S=j&&!P.call({1:2},1);O.f=S?function(t){var e=j(this,t);return!!e&&e.enumerable}:P;var E,T,I=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},M=Function.prototype,R=M.bind,k=M.call,A=R&&R.bind(k,k),C=R?function(t){return t&&A(t)}:function(t){return t&&function(){return k.apply(t,arguments)}},F=C,z=F({}.toString),D=F("".slice),_=function(t){return D(z(t),8,-1)},Y=C,X=b,$=_,L=g.Object,N=Y("".split),V=X((function(){return!L("z").propertyIsEnumerable(0)}))?function(t){return"String"==$(t)?N(t,""):L(t)}:L,B=g.TypeError,G=function(t){if(null==t)throw B("Can't call method on "+t);return t},U=V,q=G,K=function(t){return U(q(t))},W=function(t){return"function"==typeof t},Z=W,H=function(t){return"object"==typeof t?null!==t:Z(t)},J=g,Q=W,tt=function(t){return Q(t)?t:void 0},et=function(t,e){return arguments.length<2?tt(J[t]):J[t]&&J[t][e]},nt=C({}.isPrototypeOf),rt=g,ot=et("navigator","userAgent")||"",it=rt.process,at=rt.Deno,ut=it&&it.versions||at&&at.version,ct=ut&&ut.v8;ct&&(T=(E=ct.split("."))[0]>0&&E[0]<4?1:+(E[0]+E[1])),!T&&ot&&(!(E=ot.match(/Edge\/(\d+)/))||E[1]>=74)&&(E=ot.match(/Chrome\/(\d+)/))&&(T=+E[1]);var lt=T,st=lt,ft=b,pt=!!Object.getOwnPropertySymbols&&!ft((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&st&&st<41})),ht=pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,dt=et,yt=W,gt=nt,vt=ht,bt=g.Object,mt=vt?function(t){return"symbol"==typeof t}:function(t){var e=dt("Symbol");return yt(e)&&gt(e.prototype,bt(t))},xt=g.String,wt=function(t){try{return xt(t)}catch(t){return"Object"}},Ot=W,Pt=wt,jt=g.TypeError,St=function(t){if(Ot(t))return t;throw jt(Pt(t)+" is not a function")},Et=function(t,e){var n=t[e];return null==n?void 0:St(n)},Tt=w,It=W,Mt=H,Rt=g.TypeError,kt={exports:{}},At=g,Ct=Object.defineProperty,Ft=function(t,e){try{Ct(At,t,{value:e,configurable:!0,writable:!0})}catch(n){At[t]=e}return e},zt=Ft,Dt="__core-js_shared__",_t=g[Dt]||zt(Dt,{}),Yt=_t;(kt.exports=function(t,e){return Yt[t]||(Yt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.2",mode:"global",copyright:"© 2022 Denis Pushkarev (zloirock.ru)"});var Xt=G,$t=g.Object,Lt=function(t){return $t(Xt(t))},Nt=Lt,Vt=C({}.hasOwnProperty),Bt=Object.hasOwn||function(t,e){return Vt(Nt(t),e)},Gt=C,Ut=0,qt=Math.random(),Kt=Gt(1..toString),Wt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Kt(++Ut+qt,36)},Zt=g,Ht=kt.exports,Jt=Bt,Qt=Wt,te=pt,ee=ht,ne=Ht("wks"),re=Zt.Symbol,oe=re&&re.for,ie=ee?re:re&&re.withoutSetter||Qt,ae=function(t){if(!Jt(ne,t)||!te&&"string"!=typeof ne[t]){var e="Symbol."+t;te&&Jt(re,t)?ne[t]=re[t]:ne[t]=ee&&oe?oe(e):ie(e)}return ne[t]},ue=w,ce=H,le=mt,se=Et,fe=function(t,e){var n,r;if("string"===e&&It(n=t.toString)&&!Mt(r=Tt(n,t)))return r;if(It(n=t.valueOf)&&!Mt(r=Tt(n,t)))return r;if("string"!==e&&It(n=t.toString)&&!Mt(r=Tt(n,t)))return r;throw Rt("Can't convert object to primitive value")},pe=ae,he=g.TypeError,de=pe("toPrimitive"),ye=function(t,e){if(!ce(t)||le(t))return t;var n,r=se(t,de);if(r){if(void 0===e&&(e="default"),n=ue(r,t,e),!ce(n)||le(n))return n;throw he("Can't convert object to primitive value")}return void 0===e&&(e="number"),fe(t,e)},ge=mt,ve=function(t){var e=ye(t,"string");return ge(e)?e:e+""},be=H,me=g.document,xe=be(me)&&be(me.createElement),we=function(t){return xe?me.createElement(t):{}},Oe=we,Pe=!m&&!b((function(){return 7!=Object.defineProperty(Oe("div"),"a",{get:function(){return 7}}).a})),je=m,Se=w,Ee=O,Te=I,Ie=K,Me=ve,Re=Bt,ke=Pe,Ae=Object.getOwnPropertyDescriptor;v.f=je?Ae:function(t,e){if(t=Ie(t),e=Me(e),ke)try{return Ae(t,e)}catch(t){}if(Re(t,e))return Te(!Se(Ee.f,t,e),t[e])};var Ce={},Fe=m&&b((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ze=g,De=H,_e=ze.String,Ye=ze.TypeError,Xe=function(t){if(De(t))return t;throw Ye(_e(t)+" is not an object")},$e=m,Le=Pe,Ne=Fe,Ve=Xe,Be=ve,Ge=g.TypeError,Ue=Object.defineProperty,qe=Object.getOwnPropertyDescriptor,Ke="enumerable",We="configurable",Ze="writable";Ce.f=$e?Ne?function(t,e,n){if(Ve(t),e=Be(e),Ve(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ze in n&&!n.writable){var r=qe(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:We in n?n.configurable:r.configurable,enumerable:Ke in n?n.enumerable:r.enumerable,writable:!1})}return Ue(t,e,n)}:Ue:function(t,e,n){if(Ve(t),e=Be(e),Ve(n),Le)try{return Ue(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ge("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var He=Ce,Je=I,Qe=m?function(t,e,n){return He.f(t,e,Je(1,n))}:function(t,e,n){return t[e]=n,t},tn={exports:{}},en=W,nn=_t,rn=C(Function.toString);en(nn.inspectSource)||(nn.inspectSource=function(t){return rn(t)});var on,an,un,cn=nn.inspectSource,ln=W,sn=cn,fn=g.WeakMap,pn=ln(fn)&&/native code/.test(sn(fn)),hn=kt.exports,dn=Wt,yn=hn("keys"),gn=function(t){return yn[t]||(yn[t]=dn(t))},vn={},bn=pn,mn=g,xn=C,wn=H,On=Qe,Pn=Bt,jn=_t,Sn=gn,En=vn,Tn="Object already initialized",In=mn.TypeError,Mn=mn.WeakMap;if(bn||jn.state){var Rn=jn.state||(jn.state=new Mn),kn=xn(Rn.get),An=xn(Rn.has),Cn=xn(Rn.set);on=function(t,e){if(An(Rn,t))throw new In(Tn);return e.facade=t,Cn(Rn,t,e),e},an=function(t){return kn(Rn,t)||{}},un=function(t){return An(Rn,t)}}else{var Fn=Sn("state");En[Fn]=!0,on=function(t,e){if(Pn(t,Fn))throw new In(Tn);return e.facade=t,On(t,Fn,e),e},an=function(t){return Pn(t,Fn)?t[Fn]:{}},un=function(t){return Pn(t,Fn)}}var zn={set:on,get:an,has:un,enforce:function(t){return un(t)?an(t):on(t,{})},getterFor:function(t){return function(e){var n;if(!wn(e)||(n=an(e)).type!==t)throw In("Incompatible receiver, "+t+" required");return n}}},Dn=m,_n=Bt,Yn=Function.prototype,Xn=Dn&&Object.getOwnPropertyDescriptor,$n=_n(Yn,"name"),Ln=$n&&"something"===function(){}.name,Nn=$n&&(!Dn||Dn&&Xn(Yn,"name").configurable),Vn=g,Bn=W,Gn=Bt,Un=Qe,qn=Ft,Kn=cn,Wn={EXISTS:$n,PROPER:Ln,CONFIGURABLE:Nn}.CONFIGURABLE,Zn=zn.get,Hn=zn.enforce,Jn=String(String).split("String");(tn.exports=function(t,e,n,r){var o,i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet,c=r&&void 0!==r.name?r.name:e;Bn(n)&&("Symbol("===String(c).slice(0,7)&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Gn(n,"name")||Wn&&n.name!==c)&&Un(n,"name",c),(o=Hn(n)).source||(o.source=Jn.join("string"==typeof c?c:""))),t!==Vn?(i?!u&&t[e]&&(a=!0):delete t[e],a?t[e]=n:Un(t,e,n)):a?t[e]=n:qn(e,n)})(Function.prototype,"toString",(function(){return Bn(this)&&Zn(this).source||Kn(this)}));var Qn={},tr=Math.ceil,er=Math.floor,nr=function(t){var e=+t;return e!=e||0===e?0:(e>0?er:tr)(e)},rr=nr,or=Math.max,ir=Math.min,ar=function(t,e){var n=rr(t);return n<0?or(n+e,0):ir(n,e)},ur=nr,cr=Math.min,lr=function(t){return t>0?cr(ur(t),9007199254740991):0},sr=lr,fr=function(t){return sr(t.length)},pr=K,hr=ar,dr=fr,yr=function(t){return function(e,n,r){var o,i=pr(e),a=dr(i),u=hr(r,a);if(t&&n!=n){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===n)return t||u||0;return!t&&-1}},gr={includes:yr(!0),indexOf:yr(!1)},vr=Bt,br=K,mr=gr.indexOf,xr=vn,wr=C([].push),Or=function(t,e){var n,r=br(t),o=0,i=[];for(n in r)!vr(xr,n)&&vr(r,n)&&wr(i,n);for(;e.length>o;)vr(r,n=e[o++])&&(~mr(i,n)||wr(i,n));return i},Pr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jr=Or,Sr=Pr.concat("length","prototype");Qn.f=Object.getOwnPropertyNames||function(t){return jr(t,Sr)};var Er={};Er.f=Object.getOwnPropertySymbols;var Tr=et,Ir=Qn,Mr=Er,Rr=Xe,kr=C([].concat),Ar=Tr("Reflect","ownKeys")||function(t){var e=Ir.f(Rr(t)),n=Mr.f;return n?kr(e,n(t)):e},Cr=Bt,Fr=Ar,zr=v,Dr=Ce,_r=b,Yr=W,Xr=/#|\.prototype\./,$r=function(t,e){var n=Nr[Lr(t)];return n==Br||n!=Vr&&(Yr(e)?_r(e):!!e)},Lr=$r.normalize=function(t){return String(t).replace(Xr,".").toLowerCase()},Nr=$r.data={},Vr=$r.NATIVE="N",Br=$r.POLYFILL="P",Gr=$r,Ur=g,qr=v.f,Kr=Qe,Wr=tn.exports,Zr=Ft,Hr=function(t,e,n){for(var r=Fr(e),o=Dr.f,i=zr.f,a=0;a<r.length;a++){var u=r[a];Cr(t,u)||n&&Cr(n,u)||o(t,u,i(e,u))}},Jr=Gr,Qr=function(t,e){var n,r,o,i,a,u=t.target,c=t.global,l=t.stat;if(n=c?Ur:l?Ur[u]||Zr(u,{}):(Ur[u]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=qr(n,r))&&a.value:n[r],!Jr(c?r:u+(l?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Hr(i,o)}(t.sham||o&&o.sham)&&Kr(i,"sham",!0),Wr(n,r,i,t)}},to=_,eo=Array.isArray||function(t){return"Array"==to(t)},no=ve,ro=Ce,oo=I,io=function(t,e,n){var r=no(e);r in t?ro.f(t,r,oo(0,n)):t[r]=n},ao={};ao[ae("toStringTag")]="z";var uo=g,co="[object z]"===String(ao),lo=W,so=_,fo=ae("toStringTag"),po=uo.Object,ho="Arguments"==so(function(){return arguments}()),yo=co?so:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=po(t),fo))?n:ho?so(e):"Object"==(r=so(e))&&lo(e.callee)?"Arguments":r},go=C,vo=b,bo=W,mo=yo,xo=cn,wo=function(){},Oo=[],Po=et("Reflect","construct"),jo=/^\s*(?:class|function)\b/,So=go(jo.exec),Eo=!jo.exec(wo),To=function(t){if(!bo(t))return!1;try{return Po(wo,Oo,t),!0}catch(t){return!1}},Io=function(t){if(!bo(t))return!1;switch(mo(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Eo||!!So(jo,xo(t))}catch(t){return!0}};Io.sham=!0;var Mo=!Po||vo((function(){var t;return To(To.call)||!To(Object)||!To((function(){t=!0}))||t}))?Io:To,Ro=g,ko=eo,Ao=Mo,Co=H,Fo=ae("species"),zo=Ro.Array,Do=function(t){var e;return ko(t)&&(e=t.constructor,(Ao(e)&&(e===zo||ko(e.prototype))||Co(e)&&null===(e=e[Fo]))&&(e=void 0)),void 0===e?zo:e},_o=b,Yo=lt,Xo=ae("species"),$o=Qr,Lo=g,No=b,Vo=eo,Bo=H,Go=Lt,Uo=fr,qo=io,Ko=function(t,e){return new(Do(t))(0===e?0:e)},Wo=function(t){return Yo>=51||!_o((function(){var e=[];return(e.constructor={})[Xo]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Zo=lt,Ho=ae("isConcatSpreadable"),Jo=9007199254740991,Qo="Maximum allowed index exceeded",ti=Lo.TypeError,ei=Zo>=51||!No((function(){var t=[];return t[Ho]=!1,t.concat()[0]!==t})),ni=Wo("concat"),ri=function(t){if(!Bo(t))return!1;var e=t[Ho];return void 0!==e?!!e:Vo(t)};$o({target:"Array",proto:!0,forced:!ei||!ni},{concat:function(t){var e,n,r,o,i,a=Go(this),u=Ko(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(ri(i=-1===e?a:arguments[e])){if(c+(o=Uo(i))>Jo)throw ti(Qo);for(n=0;n<o;n++,c++)n in i&&qo(u,c,i[n])}else{if(c>=Jo)throw ti(Qo);qo(u,c++,i)}return u.length=c,u}});var oi=yo,ii=g.String,ai=function(t){if("Symbol"===oi(t))throw TypeError("Cannot convert a Symbol value to a string");return ii(t)},ui=G,ci=ai,li=C("".replace),si="[\t\n\v\f\r                　\u2028\u2029\ufeff]",fi=RegExp("^"+si+si+"*"),pi=RegExp(si+si+"*$"),hi=function(t){return function(e){var n=ci(ui(e));return 1&t&&(n=li(n,fi,"")),2&t&&(n=li(n,pi,"")),n}},di={start:hi(1),end:hi(2),trim:hi(3)},yi=g,gi=b,vi=ai,bi=di.trim,mi=C("".charAt),xi=yi.parseFloat,wi=yi.Symbol,Oi=wi&&wi.iterator,Pi=1/xi("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-1/0||Oi&&!gi((function(){xi(Object(Oi))}))?function(t){var e=bi(vi(t)),n=xi(e);return 0===n&&"-"==mi(e,0)?-0:n}:xi;Qr({global:!0,forced:parseFloat!=Pi},{parseFloat:Pi});var ji=Xe,Si=b,Ei=g.RegExp,Ti=Si((function(){var t=Ei("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Ii=Ti||Si((function(){return!Ei("a","y").sticky})),Mi={BROKEN_CARET:Ti||Si((function(){var t=Ei("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:Ii,UNSUPPORTED_Y:Ti},Ri={},ki=Or,Ai=Pr,Ci=Object.keys||function(t){return ki(t,Ai)},Fi=m,zi=Fe,Di=Ce,_i=Xe,Yi=K,Xi=Ci;Ri.f=Fi&&!zi?Object.defineProperties:function(t,e){_i(t);for(var n,r=Yi(e),o=Xi(e),i=o.length,a=0;i>a;)Di.f(t,n=o[a++],r[n]);return t};var $i,Li=et("document","documentElement"),Ni=Xe,Vi=Ri,Bi=Pr,Gi=vn,Ui=Li,qi=we,Ki=gn("IE_PROTO"),Wi=function(){},Zi=function(t){return"<script>"+t+"</"+"script>"},Hi=function(t){t.write(Zi("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ji=function(){try{$i=new ActiveXObject("htmlfile")}catch(t){}var t,e;Ji="undefined"!=typeof document?document.domain&&$i?Hi($i):((e=qi("iframe")).style.display="none",Ui.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Zi("document.F=Object")),t.close(),t.F):Hi($i);for(var n=Bi.length;n--;)delete Ji.prototype[Bi[n]];return Ji()};Gi[Ki]=!0;var Qi,ta,ea=Object.create||function(t,e){var n;return null!==t?(Wi.prototype=Ni(t),n=new Wi,Wi.prototype=null,n[Ki]=t):n=Ji(),void 0===e?n:Vi.f(n,e)},na=b,ra=g.RegExp,oa=na((function(){var t=ra(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),ia=b,aa=g.RegExp,ua=ia((function(){var t=aa("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),ca=w,la=C,sa=ai,fa=function(){var t=ji(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},pa=Mi,ha=kt.exports,da=ea,ya=zn.get,ga=oa,va=ua,ba=ha("native-string-replace",String.prototype.replace),ma=RegExp.prototype.exec,xa=ma,wa=la("".charAt),Oa=la("".indexOf),Pa=la("".replace),ja=la("".slice),Sa=(ta=/b*/g,ca(ma,Qi=/a/,"a"),ca(ma,ta,"a"),0!==Qi.lastIndex||0!==ta.lastIndex),Ea=pa.BROKEN_CARET,Ta=void 0!==/()??/.exec("")[1];(Sa||Ta||Ea||ga||va)&&(xa=function(t){var e,n,r,o,i,a,u,c=this,l=ya(c),s=sa(t),f=l.raw;if(f)return f.lastIndex=c.lastIndex,e=ca(xa,f,s),c.lastIndex=f.lastIndex,e;var p=l.groups,h=Ea&&c.sticky,d=ca(fa,c),y=c.source,g=0,v=s;if(h&&(d=Pa(d,"y",""),-1===Oa(d,"g")&&(d+="g"),v=ja(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==wa(s,c.lastIndex-1))&&(y="(?: "+y+")",v=" "+v,g++),n=new RegExp("^(?:"+y+")",d)),Ta&&(n=new RegExp("^"+y+"$(?!\\s)",d)),Sa&&(r=c.lastIndex),o=ca(ma,h?n:c,v),h?o?(o.input=ja(o.input,g),o[0]=ja(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Sa&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Ta&&o&&o.length>1&&ca(ba,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=a=da(null),i=0;i<p.length;i++)a[(u=p[i])[0]]=o[u[1]];return o});var Ia=xa;Qr({target:"RegExp",proto:!0,forced:/./.exec!==Ia},{exec:Ia});var Ma=Function.prototype,Ra=Ma.apply,ka=Ma.bind,Aa=Ma.call,Ca="object"==typeof Reflect&&Reflect.apply||(ka?Aa.bind(Ra):function(){return Aa.apply(Ra,arguments)}),Fa=C,za=tn.exports,Da=Ia,_a=b,Ya=ae,Xa=Qe,$a=Ya("species"),La=RegExp.prototype,Na=function(t,e,n,r){var o=Ya(t),i=!_a((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!_a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[$a]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!i||!a||n){var u=Fa(/./[o]),c=e(o,""[t],(function(t,e,n,r,o){var a=Fa(t),c=e.exec;return c===Da||c===La.exec?i&&!o?{done:!0,value:u(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));za(String.prototype,t,c[0]),za(La,o,c[1])}r&&Xa(La[o],"sham",!0)},Va=C,Ba=nr,Ga=ai,Ua=G,qa=Va("".charAt),Ka=Va("".charCodeAt),Wa=Va("".slice),Za=function(t){return function(e,n){var r,o,i=Ga(Ua(e)),a=Ba(n),u=i.length;return a<0||a>=u?t?"":void 0:(r=Ka(i,a))<55296||r>56319||a+1===u||(o=Ka(i,a+1))<56320||o>57343?t?qa(i,a):r:t?Wa(i,a,a+2):o-56320+(r-55296<<10)+65536}},Ha={codeAt:Za(!1),charAt:Za(!0)}.charAt,Ja=function(t,e,n){return e+(n?Ha(t,e).length:1)},Qa=C,tu=Lt,eu=Math.floor,nu=Qa("".charAt),ru=Qa("".replace),ou=Qa("".slice),iu=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,au=/\$([$&'`]|\d{1,2})/g,uu=w,cu=Xe,lu=W,su=_,fu=Ia,pu=g.TypeError,hu=function(t,e){var n=t.exec;if(lu(n)){var r=uu(n,t,e);return null!==r&&cu(r),r}if("RegExp"===su(t))return uu(fu,t,e);throw pu("RegExp#exec called on incompatible receiver")},du=Ca,yu=w,gu=C,vu=Na,bu=b,mu=Xe,xu=W,wu=nr,Ou=lr,Pu=ai,ju=G,Su=Ja,Eu=Et,Tu=function(t,e,n,r,o,i){var a=n+t.length,u=r.length,c=au;return void 0!==o&&(o=tu(o),c=iu),ru(i,c,(function(i,c){var l;switch(nu(c,0)){case"$":return"$";case"&":return t;case"`":return ou(e,0,n);case"'":return ou(e,a);case"<":l=o[ou(c,1,-1)];break;default:var s=+c;if(0===s)return i;if(s>u){var f=eu(s/10);return 0===f?i:f<=u?void 0===r[f-1]?nu(c,1):r[f-1]+nu(c,1):i}l=r[s-1]}return void 0===l?"":l}))},Iu=hu,Mu=ae("replace"),Ru=Math.max,ku=Math.min,Au=gu([].concat),Cu=gu([].push),Fu=gu("".indexOf),zu=gu("".slice),Du="$0"==="a".replace(/./,"$0"),_u=!!/./[Mu]&&""===/./[Mu]("a","$0");vu("replace",(function(t,e,n){var r=_u?"$":"$0";return[function(t,n){var r=ju(this),o=null==t?void 0:Eu(t,Mu);return o?yu(o,t,r,n):yu(e,Pu(r),t,n)},function(t,o){var i=mu(this),a=Pu(t);if("string"==typeof o&&-1===Fu(o,r)&&-1===Fu(o,"$<")){var u=n(e,i,a,o);if(u.done)return u.value}var c=xu(o);c||(o=Pu(o));var l=i.global;if(l){var s=i.unicode;i.lastIndex=0}for(var f=[];;){var p=Iu(i,a);if(null===p)break;if(Cu(f,p),!l)break;""===Pu(p[0])&&(i.lastIndex=Su(a,Ou(i.lastIndex),s))}for(var h,d="",y=0,g=0;g<f.length;g++){for(var v=Pu((p=f[g])[0]),b=Ru(ku(wu(p.index),a.length),0),m=[],x=1;x<p.length;x++)Cu(m,void 0===(h=p[x])?h:String(h));var w=p.groups;if(c){var O=Au([v],m,b,a);void 0!==w&&Cu(O,w);var P=Pu(du(o,void 0,O))}else P=Tu(v,a,b,m,w,o);b>=y&&(d+=zu(a,y,b)+P,y=b+v.length)}return d+zu(a,y)}]}),!!bu((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!Du||_u);var Yu=H,Xu=_,$u=ae("match"),Lu=Mo,Nu=wt,Vu=g.TypeError,Bu=Xe,Gu=function(t){if(Lu(t))return t;throw Vu(Nu(t)+" is not a constructor")},Uu=ae("species"),qu=ar,Ku=fr,Wu=io,Zu=g.Array,Hu=Math.max,Ju=Ca,Qu=w,tc=C,ec=Na,nc=function(t){var e;return Yu(t)&&(void 0!==(e=t[$u])?!!e:"RegExp"==Xu(t))},rc=Xe,oc=G,ic=function(t,e){var n,r=Bu(t).constructor;return void 0===r||null==(n=Bu(r)[Uu])?e:Gu(n)},ac=Ja,uc=lr,cc=ai,lc=Et,sc=function(t,e,n){for(var r=Ku(t),o=qu(e,r),i=qu(void 0===n?r:n,r),a=Zu(Hu(i-o,0)),u=0;o<i;o++,u++)Wu(a,u,t[o]);return a.length=u,a},fc=hu,pc=Ia,hc=b,dc=Mi.UNSUPPORTED_Y,yc=4294967295,gc=Math.min,vc=[].push,bc=tc(/./.exec),mc=tc(vc),xc=tc("".slice),wc=!hc((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));ec("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=cc(oc(this)),o=void 0===n?yc:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!nc(t))return Qu(e,r,t,o);for(var i,a,u,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=new RegExp(t.source,l+"g");(i=Qu(pc,f,r))&&!((a=f.lastIndex)>s&&(mc(c,xc(r,s,i.index)),i.length>1&&i.index<r.length&&Ju(vc,c,sc(i,1)),u=i[0].length,s=a,c.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return s===r.length?!u&&bc(f,"")||mc(c,""):mc(c,xc(r,s)),c.length>o?sc(c,0,o):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:Qu(e,this,t,n)}:e,[function(e,n){var o=oc(this),i=null==e?void 0:lc(e,t);return i?Qu(i,e,o,n):Qu(r,cc(o),e,n)},function(t,o){var i=rc(this),a=cc(t),u=n(r,i,a,o,r!==e);if(u.done)return u.value;var c=ic(i,RegExp),l=i.unicode,s=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(dc?"g":"y"),f=new c(dc?"^(?:"+i.source+")":i,s),p=void 0===o?yc:o>>>0;if(0===p)return[];if(0===a.length)return null===fc(f,a)?[a]:[];for(var h=0,d=0,y=[];d<a.length;){f.lastIndex=dc?0:d;var g,v=fc(f,dc?xc(a,d):a);if(null===v||(g=gc(uc(f.lastIndex+(dc?d:0)),a.length))===h)d=ac(a,d,l);else{if(mc(y,xc(a,h,d)),y.length===p)return y;for(var b=1;b<=v.length-1;b++)if(mc(y,v[b]),y.length===p)return y;d=h=g}}return mc(y,xc(a,h)),y}]}),!wc,dc);var Oc=function(){function t(e){i(this,t),this.el=e,this.matrix=this.getMatrix(e),this.viewportCenter=this.getViewPortCenter(),this.idlePosition=this.getIdlePosition()}return u(t,[{key:"getMatrix",value:function(t){return function(t){var e=window.getComputedStyle(t).transform;if(""===e||"none"===e)return{rotate:"0deg",scaleX:1,scaleY:1,skewX:"0deg",skewY:"0deg",translateX:"0px",translateY:"0px"};var n,r,o,i,a,u,c,l,s=e.split("(")[1].split(")")[0].split(",");return n=s,r=Math.atan2(n[1],n[0]),o=Math.pow(n[0],2)+Math.pow(n[1],2),i=Math.pow(n[2],2)+Math.pow(n[3],2),a=Math.sqrt(o),u=(n[0]*n[3]-n[2]*n[1])/a,c=Math.atan2(n[0]*n[2]+n[1]*n[3],o),l=Math.atan2(n[1]*n[3]+n[0]*n[2],i),{rotate:r/(Math.PI/180)+"deg",scaleX:a,scaleY:u,skewX:(1===o?c/(Math.PI/180):0)+"deg",skewY:(1===i?l/(Math.PI/180):0)+"deg",translateX:n[4]+"px",translateY:n[5]+"px"}}(t)}},{key:"getViewPortCenter",value:function(){var t=this.el.parentNode;return{x:parseFloat(getComputedStyle(t,null).width.replace("px",""))/2,y:parseFloat(getComputedStyle(t,null).height.replace("px",""))/2}}},{key:"getIdlePosition",value:function(){var t=this.el,e=t.getBoundingClientRect(),n=t.parentNode.getBoundingClientRect();return{x:e.left-n.left,y:e.top-n.top}}},{key:"calcXYZoom",value:function(){var t=this.matrix,e=this.idlePosition,n=this.viewportCenter,r=n.x-e.x,i=n.y-e.y;return o(o({},{x:r/t.scaleX,y:i/t.scaleY}),{},{zoom:t.scaleX})}},{key:"createProgressFunction",value:function(t){var e=this._xyzoomToTranslate(t.start),n=this._xyzoomToTranslate(t.target),r=Math.atan(Math.abs(n.y-e.y)/Math.abs(n.x-e.x)),o=Math.sqrt(Math.pow(n.y-e.y,2)+Math.pow(n.x-e.x,2)),i=1,a=1;return n.x<e.x&&(i=-1),n.y<e.y&&(a=-1),function(t){var u=t*o;return{translateX:i*u*Math.cos(r)+e.x,translateY:a*u*Math.sin(r)+e.y,scale:(n.scale-e.scale)*t+e.scale}}}},{key:"_xyzoomToTranslate",value:function(t){var e=t.zoom*t.x,n=t.zoom*t.y,r=this.viewportCenter.x-e,o=this.viewportCenter.y-n;return{x:r-this.idlePosition.x,y:o-this.idlePosition.y,scale:t.zoom}}},{key:"createPathProgressFunction",value:function(t,e){var n=this,r=function(t){};t.transitionDuration>0&&(r=this.createProgressFunction({start:e,target:{x:t.startPoint.x,y:t.startPoint.y,zoom:e.zoom}}));var o=t.transitionDuration/(t.transitionDuration+t.alongPathDuration),i=t.alongPathDuration/(t.transitionDuration+t.alongPathDuration),a=(t.endTo-t.startFrom)*t.pathLength;return function(u){if(t.transitionDuration>0&&u<o)return r(u/o);var c=(u-o)/i,l=(t.zoom-e.zoom)*c+e.zoom,s=c*a+t.startFrom*t.pathLength,f=t.path.getPointAtLength(s),p=n._xyzoomToTranslate({x:f.x,y:f.y,zoom:l});return{translateX:p.x,translateY:p.y,scale:p.scale}}}}]),t}(),Pc=function(t){l(n,t);var e=h(n);function n(){return i(this,n),e.apply(this,arguments)}return u(n,[{key:"getScratchValue",value:function(){return this.adaptor=new Oc(this.element),this.adaptor.calcXYZoom()}},{key:"onGetContext",value:function(){this.adaptor=new Oc(this.element),this.progressMethod=this.adaptor.createProgressFunction({start:this.initialValue,target:this.targetValue})}},{key:"onProgress",value:function(t){var e=this.progressMethod(t);this.element.style.transform="translateX(".concat(e.translateX,"px) translateY(").concat(e.translateY,"px) scaleX(").concat(e.scale,") scaleY(").concat(e.scale,")")}}]),n}(n.default.Effect),jc=function(t){l(n,t);var e=h(n);function n(){return i(this,n),e.apply(this,arguments)}return u(n,[{key:"onInitialise",value:function(){var t=this.props.duration,e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttributeNS(null,"d",this.targetValue.path),this.data={path:e,finalPoint:null,startPoint:null,zoom:this.targetValue.zoom,pathLength:e.getTotalLength(),startFrom:this.attrs.from?this.attrs.from:0,endTo:this.attrs.to?this.attrs.to:1,transitionDuration:this.attrs.transition?this.attrs.transition:0,get alongPathDuration(){return t-this.transitionDuration}},this.data.finalPoint=e.getPointAtLength(this.data.endTo*this.data.pathLength),this.data.startPoint=e.getPointAtLength(this.data.startFrom*this.data.pathLength),this.targetValue.x=this.data.finalPoint.x,this.targetValue.y=this.data.finalPoint.y}},{key:"onGetContext",value:function(){this.adaptor=new Oc(this.element),this.data.zoom=this.targetValue.zoom,this.progressMethod=this.adaptor.createPathProgressFunction(this.data,this.initialValue)}}]),n}(Pc);return{npm_name:"@donkeyclip/motorcortex-2dcam",version:"0.0.16",incidents:[{exportable:Pc,name:"ZoomTo",attributesValidationRules:{animatedAttrs:{type:"object",props:{position:{type:"object",props:{x:{type:"number",optional:!0,min:0},y:{type:"number",optional:!0,min:0},zoom:{type:"number",optional:!0,min:0}}}}}}},{exportable:jc,name:"FollowPath",attributesValidationRules:{animatedAttrs:{type:"object",props:{position:{type:"object",props:{path:{type:"string",optional:!1},zoom:{type:"number",optional:!0,min:0}}}}},transition:{type:"number",integer:!0,min:0,optional:!0},from:{type:"number",min:0,max:1,optional:!0},to:{type:"number",min:0,max:1,optional:!0}}}],compositeAttributes:{position:["x","y","zoom","path"]}}}));
